### 1. 基本設計・構築タスク

- 🟡 [x] 1.1 プロジェクト初期設定
  - リポジトリ構造の設計
  - 技術スタックの確定（Next.js, TypeScript, shadcn UI, SQLite, Rust/Tauri）
  - 開発環境のセットアップ
  - 見積時間：8時間

### 2. フロントエンド開発（視聴者向けWeb UI）

- 🔴 [x] 2.1 Next.jsプロジェクト設定
  - TypeScriptセットアップ
  - shadcn UIインストール
  - レスポンシブデザイン対応
  - ダークモード実装
  - 見積時間：6時間

- 🟡 [x] 2.2 SUIウォレット連携機能
  - ウォレット接続インターフェース実装
  - [~] 配信者ウォレットアドレス自動取得機能 (URLパラメータ取得とフォーム設定は実装済、送信メッセージへの反映は未実装)
  - 見積時間：10時間
  - 依存関係：SUI SDK統合, 2.5.3 メッセージ送信ロジック

- 🟢 [x] 2.3 スーパーチャットUI実装
  - [x] 金額選択UI（0/1/3/5/10 SUI）
  - [x] メッセージ入力フィールド
  - [x] 表示名入力フィールド
  - [x] 送信確認画面
  - [x] 完了通知表示 (toast)
  - 見積時間：12時間

- 🟢 [x] 2.4 WebSocket通信実装（クライアント側）
  - WebSocketコンテキストとカスタムフック実装
  - メッセージ送信機能
  - スパチャ処理連携
  - テスト用ページ実装
  - 見積時間：8時間
  - 依存関係：Tauriアプリ内WebSocketサーバー開発

- 🟢 [x] 2.5 WebSocket通信実装（クライアント側詳細）
  - [x] 視聴者ページ読み込み時にURLパラメータ(`wsUrl`, `streamerAddress`)からWebSocketアドレスを取得
  - [x] 取得したWebSocketアドレスへ自動接続 (`actions.connect`)
  - [🔴] [ ] メッセージ送信ロジック (表示名、メッセージ内容は送信されるが、配信者アドレスがダミーのため**未完了**)
  - [x] サーバーからのメッセージ受信と表示処理 (受信・状態更新は実装済)
  - [x] エラーハンドリング (接続失敗、通信エラー、URLパラメータ不備の基本処理は実装済)
  - 見積時間：8時間
  - 依存関係：3.4 Rustバックエンド：WebSocketサーバー実装, 4.3 トランザクション処理実装

### 3. 配信者向けTauriアプリ開発

- 🔴 [x] 3.1 Tauriプロジェクト設定
  - Rustバックエンド初期化
  - WebViewフロントエンド設定
  - IPC通信セットアップ
  - 見積時間：10時間

- 🟡 [x] 3.2 データベース設計
  - SQLiteスキーマ設計
  - メッセージテーブル作成
  - セッション管理テーブル作成
  - 見積時間：4時間

- 🟡 [x] 3.3 WebView：配信者用ダッシュボード実装 (フロントエンド実装済、バックエンドIPC連携必要)
  - [x] サーバー開始/停止機能 (UI, IPC呼び出し実装済)
  - [x] OBS用URL生成 (表示・コピー実装済)
  - [x] 視聴者用リンク生成 (表示・コピー実装済)
  - 見積時間：12時間

- 🟡 [ ] 3.4 Rustバックエンド：WebSocketサーバー実装 (Actix-Webベース)
  - [x] 3.4.1 actix-web, actix-web-actors のセットアップ (tokioランタイム)
  - [x] 3.4.2 WebSocket接続用アクター (`Actor`, `StreamHandler`) の基本実装
  - [x] 3.4.3 メッセージハンドリング (`ws::Message` 分岐: 通常/スパチャ等)
  - [x] 3.4.4 基本的な接続管理 (接続/切断処理、フロントエンドIPCスタブ)
  - [ ] 3.4.5 高度な接続管理
    - [x] 3.4.5.1 最大接続数制限 (超過時切断は実装済、設定値読み込み・キューイングは未実装)
    - [🔴] [ ] 3.4.5.2 優先処理ロジック (スパチャ優先キュー)
    - [🔴] [ ] 3.4.5.3 接続状況リアルタイムモニタリング用API/イベント (`get_connections_info`コマンドあり)
  - [🟡] 3.4.6 HTTPサーバー連携機能 (WebSocketサーバー内)
    - [x] 3.4.6.1 静的ファイル配信 (OBS用) (`actix_files` 利用)
    - [🔴] [ ] 3.4.6.2 APIエンドポイント (設定/状態確認用) スタブ
    - [~] 3.4.6.3 WebSocketアクターとの情報共有機構 (AppState経由?)
  - [🟡] 3.4.7 負荷対策実装 (要件定義 5.2.1 参照)
    - [x] 3.4.7.1 接続制限メカニズムの詳細実装 (基本実装あり)
    - [🔴] [ ] 3.4.7.2 メッセージキューイング (バッファ、スロットリング)
    - [x] 3.4.7.3 リソース最適化 (非アクティブ接続タイムアウト)
  - 見積時間：24時間

- 🟢 [x] 3.5 Rustバックエンド：HTTPサーバー実装
  - [x] OBSブラウザソース用静的ファイル配信 (`actix_files`利用)
  - [x] WebSocketとの統合 (別ポートで並列起動)
  - 見積時間：8時間

- 🔴 [x] 3.6 Rustバックエンド：SQLiteデータベース連携
  - [x] メッセージ記録機能
  - [x] スパチャ履歴永続化
  - [x] 検索・フィルタリング機能
  - 見積時間：10時間

- 🟡 [ ] 3.7 WebView：スーパーチャット表示カスタマイズ
  - 表示スタイル設定
  - アニメーション設定
  - テーマ選択機能
  - 見積時間：14時間

- 🟡 [ ] 3.8 WebView：管理機能実装
  - 受信履歴閲覧 (IPCスタブ必要)
  - NGアドレス設定 (IPCスタブ必要)
  - 統計・分析表示 (IPCスタブ必要)
  - CSVエクスポート (IPCスタブ必要)
  - 見積時間：16時間

### 4. ブロックチェーン連携

- 🔴 [ ] 4.1 SUI SDK統合 (バックエンド)
  - [ ] SDK実装・テスト
  - [ ] ウォレット連携機能 (送金処理、検証等)
  - 見積時間：12時間

- 🟡 [x] 4.2 スマートコントラクト開発
  - Move言語によるコントラクト実装
  - 手数料分配ロジック実装
  - 見積時間：20時間

### 5. テスト・最適化

- 🟡 [ ] 5.1 パフォーマンステスト
  - 同時接続負荷テスト
  - メモリ使用量最適化
  - 優先度ベース処理の検証
  - 見積時間：12時間

- 🟡 [ ] 5.2 セキュリティテスト
  - ウォレット連携セキュリティ検証
  - サーバー負荷対策検証
  - 見積時間：8時間

- 🟢 [ ] 5.3 OBS連携テスト
  - 各プラットフォームでの動作検証
  - 表示パフォーマンス最適化
  - 見積時間：6時間

### 6. リリース準備

- 🔴 [ ] 6.1 パッケージング・配布準備
  - Windows/macOS/Linux向けバイナリ作成
  - デジタル署名実装
  - インストーラー作成
  - 見積時間：10時間

- 🟡 [ ] 6.2 ドキュメント作成
  - ユーザーマニュアル
  - インストールガイド
  - トラブルシューティングガイド
  - 見積時間：8時間

- 🟢 [ ] 6.3 ベータ版リリース・フィードバック収集
  - 限定公開テスト
  - フィードバック収集システム
  - バグトラッキング
  - 見積時間：継続的（初期4時間）
